<head>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="#" />

  <script src="https://unpkg.com/ag-grid/dist/ag-grid.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aws-sdk/2.382.0/aws-sdk.js"></script>
  <script src="https://unpkg.com/json5@^2.0.0/dist/index.min.js"></script>
</head>

AwardWiz -- Open Console (⌥-⌘-C) to view status<br/><br/>
<small><small><strong>Latest 5 commits:</strong><br/>
<div id="latestCommits">Loading...</div></small></small>
<br/>

<details>
  <summary>AWS and Scraper Configuration</summary>
  <button onclick="window.awardwiz.exportSettings()">export settings</button>
  <button onclick="window.awardwiz.importSettings()">import settings</button><br/><br/>

  <label for="awsAccessKey">AWS Access Key: </label><input type="text" id="awsAccessKey" value=""/><br/>
  <label for="awsSecretAccessKey">AWS Secret Access Key: </label><input type="text" id="awsSecretAccessKey" value=""/><br/>
  <label for="awsRegionZone">AWS Region Zone: </label><input type="text" id="awsRegionZone" value=""/><br/>
  <label for="awsLambdaRoleArn">AWS Lambda Role ARN: </label><input type="text" id="awsLambdaRoleArn" value=""/><br/>
  <br/>

  <label for="functionName">Function Name: </label><input type="text" id="functionName" value=""/><br/>
  <br/>
  <label for="proxyUrl">Proxy URL: </label><input type="text" id="proxyUrl" value=""/><br/>
  <br/>
  <div id="scraperExtraParams"></div>
</details>

<br/>
<label for="origin">origin: </label><input type="text" id="origin" value="" placeholder="ex. SFO" />
<input type="checkbox" id="originNearby" checked /><label for="originNearby"> and nearby</label>
<br/>
<label for="destination">destination: </label><input type="text" id="destination" value="" placeholder="ex. YOW" />
<input type="checkbox" id="destinationNearby" checked /><label for="destinationNearby"> and nearby</label>
<br/>
<label for="date">date: </label><input type="text" id="date" value="" /> (yyyy-mm-dd)
<br/>
<input type="checkbox" id="checkChase" checked /><label for="checkChase"> check chase</label>

<br/>
<br/>
<button id="prep" onclick="window.awardwiz.prep()">prep</button>
<button id="search" onclick="window.awardwiz.search()">search</button>
or
<select id="regionSearch"></select>
<button onclick="window.awardwiz.searchRegion()">search region</button>
<div id="searchStatus" style="font-size:8pt">(enter details and hit Search above)</div>
<br/><br/>

<div id="resultsGrid" style="height:305px; width:950px; padding-bottom: 5px" class="ag-theme-balham"></div>

<script type="module">

import AwardWiz from "./awardwiz.js"

(async() => {
  window.awardwiz = await new AwardWiz()

  console.logCopy = console.log.bind(console)
  console.log = data => {
    console.logCopy(`%c${new Date().toISOString().replace(/[TZ]/ug, " ")}%c${data}`, "color: gray", "")
  }
})()

</script>